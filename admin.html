<!DOCTYPE html>
<html>

<head>

<title>HireSphere GOD FINAL ATS</title>

<style>

body{
margin:0;
font-family:Arial;
background:#e6f2ff;
}

header{
background:#003366;
color:white;
padding:20px;
text-align:center;
position:relative;
}

.logout{
position:absolute;
right:20px;
top:20px;
background:red;
color:white;
border:none;
padding:10px;
border-radius:6px;
cursor:pointer;
}

.container{
margin:40px;
background:white;
padding:25px;
border-radius:12px;
box-shadow:0 0 15px gray;
}

.cards{
display:flex;
gap:20px;
margin-bottom:20px;
}

.card{
flex:1;
background:#007bff;
color:white;
padding:18px;
border-radius:8px;
text-align:center;
font-size:18px;
}

.search{
padding:12px;
width:300px;
margin-bottom:20px;
}

table{
width:100%;
border-collapse:collapse;
}

th,td{
border:1px solid gray;
padding:10px;
text-align:center;
}

button{
border:none;
color:white;
padding:8px 12px;
margin:2px;
border-radius:6px;
cursor:pointer;
}

.short{background:#007bff;}
.hr{background:orange;}
.mgr{background:purple;}
.select{background:green;}
.reject{background:red;}
.delete{background:black;}
.download{background:green;}
.wa{background:#25D366;}

.note{
width:120px;
}

.pipeline{
background:#eee;
padding:6px;
border-radius:6px;
}

</style>

</head>

<body>

<header>

<h1>HireSphere GOD FINAL ATS</h1>

<button class="logout" onclick="logout()">Logout</button>

</header>


<div class="container">

<input
class="search"
placeholder="Search Candidate"
id="search"
onkeyup="load()">


<div class="cards">

<div class="card" id="total"></div>

<div class="card" id="selected"></div>

</div>


<table>

<thead>

<tr>

<th>Name</th>
<th>Email</th>
<th>Mobile</th>
<th>Job</th>
<th>Pipeline</th>
<th>Resume</th>
<th>WhatsApp</th>
<th>Notes</th>
<th>Action</th>

</tr>

</thead>

<tbody id="table"></tbody>

</table>

</div>


<script>

/* LOGIN SECURITY */

if(localStorage.getItem("login")!=="yes"){

location="admin-login.html";

}


/* DATA */

let candidates=

JSON.parse(localStorage.getItem("candidates"))||[];



function pipeline(status){

if(status==="Shortlisted")
return "Applied → Shortlisted";

if(status==="HR Round")
return "Shortlisted → HR";

if(status==="Manager Round")
return "HR → Manager";

if(status==="Selected")
return "Manager → Selected";

if(status==="Rejected")
return "Rejected";

return "Applied";

}



function load(){

let table=document.getElementById("table");

table.innerHTML="";

let search=

document.getElementById("search")

.value.toLowerCase();

let selected=0;


candidates.forEach((c,i)=>{

if(!c.name.toLowerCase().includes(search))

return;


if(c.status==="Selected")

selected++;



let row=table.insertRow();


row.style.background=

c.status==="Selected"

?"#66ff99"

:c.status==="Rejected"

?"#f4a6a6"

:"#90ee90";



row.insertCell(0).innerText=c.name;

row.insertCell(1).innerText=c.email;

row.insertCell(2).innerText=c.mobile;

row.insertCell(3).innerText=c.job;


/* PIPELINE */

let pipe=row.insertCell(4);

pipe.innerHTML=

`<div class="pipeline">

${pipeline(c.status)}

</div>`;


/* RESUME */

let r=row.insertCell(5);

let d=document.createElement("button");

d.innerText="Download";

d.className="download";

d.onclick=()=>{

let a=document.createElement("a");

a.href=c.resume;

a.download="resume";

a.click();

};

r.appendChild(d);


/* WHATSAPP */

let wa=row.insertCell(6);

wa.innerHTML=

`<button class="wa"

onclick="waSend('${c.mobile}')">

WhatsApp

</button>`;


/* NOTES */

let note=row.insertCell(7);

note.innerHTML=

`<input class="note"

value="${c.note||''}"

onchange="saveNote(${i},this.value)">`;


/* ACTION */

let action=row.insertCell(8);

action.innerHTML=`

<button class="short"
onclick="set(${i},'Shortlisted')">

Shortlist

</button>

<button class="hr"
onclick="set(${i},'HR Round')">

HR

</button>

<button class="mgr"
onclick="set(${i},'Manager Round')">

Manager

</button>

<button class="select"
onclick="set(${i},'Selected')">

Select

</button>

<button class="reject"
onclick="set(${i},'Rejected')">

Reject

</button>

<button class="delete"
onclick="del(${i})">

Delete

</button>

`;

});


total.innerText=

"Total Candidates : "+candidates.length;

selected.innerText=

"Selected : "+selected;

}


/* SAVE NOTE */

function saveNote(i,text){

candidates[i].note=text;

save();

}


/* WHATSAPP */

function waSend(num){

window.open(

"https://wa.me/91"+num,

"_blank"

);

}


/* STATUS */

function set(i,status){

candidates[i].status=status;

save();

}


/* DELETE */

function del(i){

if(confirm("Delete Candidate?")){

candidates.splice(i,1);

save();

}

}


/* SAVE */

function save(){

localStorage.setItem(

"candidates",

JSON.stringify(candidates)

);

load();

}


/* LOGOUT */

function logout(){

localStorage.removeItem("login");

location="index.html";

}


load();

</script>

</body>

</html>