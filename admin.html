<script>

let candidates=

JSON.parse(localStorage.getItem("candidates"))||[];

let table=document.getElementById("tableBody");

document.getElementById("total").innerText=

"Total Candidates : "+candidates.length;



function loadCandidates(){

table.innerHTML="";



candidates.forEach((c,index)=>{

let row=table.insertRow();



/* STATUS COLOR */

if(c.status==="Shortlisted")

row.style.background="#90ee90";

if(c.status==="HR Round")

row.style.background="#ffe680";

if(c.status==="Manager Round")

row.style.background="#d9b3ff";

if(c.status==="Selected")

row.style.background="#66ff99";

if(c.status==="Rejected")

row.style.background="#f4a6a6";



row.insertCell(0).innerText=c.name;

row.insertCell(1).innerText=c.email;

row.insertCell(2).innerText=c.mobile;

row.insertCell(3).innerText=c.job;

row.insertCell(4).innerText=c.experience;



/* DOWNLOAD RESUME */

let resume=row.insertCell(5);

let btn=document.createElement("button");

btn.innerText="Download";

btn.style.background="green";

btn.style.color="white";

btn.style.padding="8px";

btn.style.borderRadius="5px";

btn.onclick=function(){

let link=document.createElement("a");

link.href=c.resume;

link.download="resume";

link.click();

};

resume.appendChild(btn);



row.insertCell(6).innerText=c.status;



/* ACTION BUTTONS */

let action=row.insertCell(7);

action.innerHTML=

`

<button onclick="updateStatus(${index},'Shortlisted')" style="background:#007bff;color:white">Shortlist</button>

<button onclick="updateStatus(${index},'HR Round')" style="background:orange;color:white">HR Round</button>

<button onclick="updateStatus(${index},'Manager Round')" style="background:purple;color:white">Manager</button>

<button onclick="updateStatus(${index},'Selected')" style="background:green;color:white">Select</button>

<button onclick="updateStatus(${index},'Rejected')" style="background:red;color:white">Reject</button>

<button onclick="removeCandidate(${index})" style="background:black;color:white">Delete</button>

`;

});

}



function updateStatus(i,status){

candidates[i].status=status;

save();

}



function removeCandidate(i){

if(confirm("Delete Candidate?")){

candidates.splice(i,1);

save();

}

}



function save(){

localStorage.setItem(

"candidates",

JSON.stringify(candidates)

);

loadCandidates();

document.getElementById("total").innerText=

"Total Candidates : "+candidates.length;

}



loadCandidates();

</script>