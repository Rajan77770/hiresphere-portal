<!DOCTYPE html>
<html>

<head>

<title>HireSphere ULTRA PRO ATS</title>

<style>

body{

font-family:Arial;
background:#e6f2ff;
margin:0;

}

header{

background:#003366;
color:white;
padding:20px;
text-align:center;

}

.container{

background:white;
margin:40px;
padding:25px;
border-radius:10px;
box-shadow:0 0 12px gray;

}

table{

width:100%;
border-collapse:collapse;

}

th,td{

border:1px solid gray;
padding:10px;
text-align:center;

}

button{

padding:8px 12px;
border:none;
border-radius:6px;
color:white;
cursor:pointer;
margin:2px;

}

.short{background:#007bff;}
.hr{background:orange;}
.manager{background:#9c27b0;}
.select{background:green;}
.reject{background:red;}
.delete{background:black;}
.download{background:green;}

</style>

</head>

<body>

<script>

if(sessionStorage.getItem("admin")!=="yes"){

location="admin-login.html";

}

</script>

<header>

<h1>HireSphere Admin Dashboard</h1>

</header>

<div class="container">

<h3 id="total"></h3>

<h2>Candidate Applications</h2>

<table>

<thead>

<tr>

<th>Name</th>
<th>Email</th>
<th>Mobile</th>
<th>Job</th>
<th>Experience</th>
<th>Resume</th>
<th>Status</th>
<th>Action</th>

</tr>

</thead>

<tbody id="body">

</tbody>

</table>

</div>

<script>

let candidates=

JSON.parse(localStorage.getItem("candidates"))||[];

let body=document.getElementById("body");

function load(){

body.innerHTML="";

document.getElementById("total").innerText=

"Total Candidates : "+candidates.length;

candidates.forEach((c,i)=>{

let row=body.insertRow();

if(c.status==="Shortlisted")

row.style.background="#90ee90";

if(c.status==="HR Round")

row.style.background="#ffe08a";

if(c.status==="Manager Round")

row.style.background="#e0c6ff";

if(c.status==="Selected")

row.style.background="#a7f3a7";

if(c.status==="Rejected")

row.style.background="#ffb3b3";

row.insertCell(0).innerText=c.name;

row.insertCell(1).innerText=c.email;

row.insertCell(2).innerText=c.mobile;

row.insertCell(3).innerText=c.job||"-";

row.insertCell(4).innerText=c.experience||0;


/* Resume */

let rcell=row.insertCell(5);

let d=document.createElement("button");

d.innerText="Download";

d.className="download";

d.onclick=function(){

if(c.resume){

let a=document.createElement("a");

a.href=c.resume;

a.download="resume";

a.click();

}else{

alert("No Resume");

}

};

rcell.appendChild(d);


/* Status */

row.insertCell(6).innerText=c.status||"Pending";


/* Actions */

let action=row.insertCell(7);

action.innerHTML=`

<button class="short"
onclick="setStage(${i},'Shortlisted')">

Shortlist</button>

<button class="hr"
onclick="setStage(${i},'HR Round')">

HR Round</button>

<button class="manager"
onclick="setStage(${i},'Manager Round')">

Manager</button>

<button class="select"
onclick="setStage(${i},'Selected')">

Select</button>

<button class="reject"
onclick="setStage(${i},'Rejected')">

Reject</button>

<button class="delete"
onclick="removeC(${i})">

Delete</button>

`;

});

}


function setStage(i,status){

candidates[i].status=status;

save();

}

function removeC(i){

if(confirm("Delete Candidate?")){

candidates.splice(i,1);

save();

}

}

function save(){

localStorage.setItem("candidates",

JSON.stringify(candidates));

load();

}

load();

</script>

</body>

</html>
